<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Talky - Chat</title>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    video {
      border-radius: 10px;
    }
  </style>
</head>
<body class="bg-slate-900 text-white font-sans">

  <!-- VerificaÃ§Ã£o de idade -->
  <div id="verificacao" class="flex items-center justify-center min-h-screen px-4">
    <div class="text-center space-y-6">
      <h1 class="text-3xl font-bold">VocÃª tem 18 anos ou mais?</h1>
      <div class="flex justify-center gap-6 flex-wrap">
        <button onclick="acessoPermitido()" class="bg-indigo-600 hover:bg-indigo-500 px-6 py-3 rounded-xl text-lg">Sim</button>
        <button onclick="acessoNegado()" class="bg-red-600 hover:bg-red-500 px-6 py-3 rounded-xl text-lg">NÃ£o</button>
      </div>
    </div>
  </div>

  <!-- Aviso -->
  <div id="aviso" class="hidden p-6 border border-blue-500 rounded-xl max-w-3xl mx-auto mt-6 bg-slate-800 text-white text-sm md:text-base">
    âš ï¸ <strong>Aviso Importante:</strong><br><br>
    Este aplicativo pode conter interaÃ§Ãµes sensÃ­veis. Se vocÃª estiver passando por dificuldades emocionais, procure ajuda especializada.
    Ligue para o CVV 188 ou acesse 
    <a href="https://www.cvv.org.br" target="_blank" class="text-blue-300 underline">www.cvv.org.br</a>.<br><br>
    ğŸ“œ <strong>Art. 122 do CÃ³digo Penal Brasileiro:</strong> Induzir ou instigar alguÃ©m ao suicÃ­dio ou a automutilaÃ§Ã£o Ã© crime.
  </div>

  <!-- App -->
  <div id="app" class="hidden max-w-3xl mx-auto p-4 relative space-y-4">
    <button id="btn-novo-chat" onclick="novoChat()" class="fixed top-4 right-4 bg-green-600 hover:bg-green-500 px-6 py-3 rounded-xl text-lg z-50">
      Novo Chat
    </button>

    <h2 class="text-2xl font-bold">Talky</h2>

    <div class="flex flex-col md:flex-row items-center gap-4 justify-center">
      <video id="localVideo" autoplay muted playsinline class="w-full max-w-[300px] aspect-video bg-black"></video>
      <video id="remoteVideo" autoplay playsinline class="w-full max-w-[500px] aspect-video bg-black"></video>
      <div class="flex md:flex-col flex-row gap-4">
        <button id="btn-cam" class="control-btn bg-indigo-600 hover:bg-indigo-500 p-3 rounded-full" onclick="toggleCamera()">ğŸ¥</button>
        <button id="btn-mic" class="control-btn bg-indigo-600 hover:bg-indigo-500 p-3 rounded-full" onclick="toggleMic()">ğŸ¤</button>
      </div>
    </div>

    <div id="messages" class="flex flex-col gap-2 max-h-72 overflow-y-auto p-2 bg-slate-800 rounded-xl"></div>

    <form id="form" class="flex items-center gap-2">
      <input id="input" placeholder="Digite..." autocomplete="off"
        class="flex-grow p-3 rounded-xl bg-slate-100 text-black outline-none" />
      <button type="submit" class="bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-xl">Enviar</button>
    </form>
  </div>

  <footer class="text-center mt-10 text-gray-400 text-sm">
    &copy; 2025 By &lt;/@MARKOS_FELIPE77;.
  </footer>

  <script src="script.js" defer></script>
</body>
</html>

